{"ast":null,"code":"import _objectSpread from\"C:/CA/Billing/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// src/api.js\nconst API_BASE=process.env.REACT_APP_API_BASE||\"https://billing-pks-production.up.railway.app\";// ---------- helpers ----------\nexport const toNum=v=>isNaN(+v)?0:+v;export const amt=(q,r)=>toNum(q)*toNum(r);export const inr=v=>toNum(v).toLocaleString(\"en-IN\",{minimumFractionDigits:2,maximumFractionDigits:2});async function getJSON(url){const r=await fetch(url);if(!r.ok)throw new Error(await r.text());return r.json();}async function postJSON(url,body){const r=await fetch(url,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(body)});if(!r.ok)throw new Error(await r.text());return r.json();}function normalizeAccountRow(a){var _ref,_ref2,_a$account_id,_ref3,_a$account_name;if(!a)return a;return _objectSpread(_objectSpread({},a),{},{account_id:(_ref=(_ref2=(_a$account_id=a.account_id)!==null&&_a$account_id!==void 0?_a$account_id:a.id)!==null&&_ref2!==void 0?_ref2:a.accountId)!==null&&_ref!==void 0?_ref:null,account_name:(_ref3=(_a$account_name=a.account_name)!==null&&_a$account_name!==void 0?_a$account_name:a.name)!==null&&_ref3!==void 0?_ref3:\"\"});}// ================== Items / Inventory (MySQL) ==================\nexport async function apiGetInventory(){return getJSON(\"\".concat(API_BASE,\"/inventory\"));}// Add item in MySQL items table\nexport async function apiAddItem(name,hsnCode,groupName){const res=await fetch(\"\".concat(API_BASE,\"/inventory/add_item\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name,hsn_code:hsnCode,group:groupName})});if(!res.ok)throw new Error(\"Failed to add item\");return await res.json();}// Suggestions from items table\nexport async function apiSuggestNames(){let q=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"\";let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:20;const url=new URL(\"\".concat(API_BASE,\"/purchases/suggest\"));if(q)url.searchParams.set(\"q\",q);url.searchParams.set(\"limit\",String(limit));return getJSON(url.toString());// [{name,gst,hsn,unit,price}]\n}// Availability check from MySQL\nexport async function apiCheckAvailability(name){let qty=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;const url=new URL(\"\".concat(API_BASE,\"/inventory/availability\"));url.searchParams.set(\"name\",name||\"\");url.searchParams.set(\"qty\",String(qty||0));const res=await getJSON(\"\".concat(API_BASE,\"/inventory/availability?name=\").concat(encodeURIComponent(name),\"&qty=\").concat(qty));console.log(\"availability response:\",res);return getJSON(url.toString());// {exists,stock,can_deliver}\n}// ================== Purchases (MySQL) ==================\n/*\r\nexport async function apiAddPurchase({\r\n  item_name,\r\n  qty,\r\n  gst,\r\n  price,\r\n  date,\r\n  bill_no,\r\n}) {\r\n  return postJSON(`${API_BASE}/inventory/add_purchase`, {\r\n    item_name,\r\n    qty: Number(qty || 0),\r\n    gst: Number(gst || 0),\r\n    price: Number(price || 0),\r\n    date,\r\n    bill_no,\r\n  });\r\n}*//*\r\nexport async function apiAddPurchase({\r\n  item_name,\r\n  qty,\r\n  purchase_state,\r\n  purchase_price,\r\n  gst_percent,     // selling GST\r\n  selling_price,   // selling price\r\n  date,\r\n  bill_no,\r\n}) {\r\n  return postJSON(`${API_BASE}/inventory/add_purchase`, {\r\n    item_name,\r\n    qty: Number(qty || 0),\r\n\r\n    // âœ… new fields\r\n    purchase_state: (purchase_state || \"\").trim() || null,\r\n    purchase_price:\r\n      purchase_price === \"\" || purchase_price == null\r\n        ? null\r\n        : Number(purchase_price),\r\n\r\n    // âœ… selling fields\r\n    gst_percent:\r\n      gst_percent === \"\" || gst_percent == null ? null : Number(gst_percent),\r\n    selling_price:\r\n      selling_price === \"\" || selling_price == null ? null : Number(selling_price),\r\n\r\n    date,\r\n    bill_no,\r\n  });\r\n}\r\n*/export async function apiAddPurchase(_ref4){let{item_name,qty,purchase_state,purchase_price,gst_percent,// selling GST\nselling_price,// selling price\ndate,bill_no,party_name// âœ… NEW\n}=_ref4;return postJSON(\"\".concat(API_BASE,\"/inventory/add_purchase\"),{item_name,qty:Number(qty||0),// âœ… NEW fields\npurchase_state:(purchase_state||\"\").trim()||null,purchase_price:purchase_price===\"\"||purchase_price==null?null:Number(purchase_price),// âœ… selling fields\ngst_percent:gst_percent===\"\"||gst_percent==null?null:Number(gst_percent),selling_price:selling_price===\"\"||selling_price==null?null:Number(selling_price),// âœ… purchase context\ndate,bill_no,party_name:(party_name||\"\").trim()||null// âœ… NEW\n});}// Log a sale row into purchases as negative quantity\nexport async function apiAddSale(p){return apiAddPurchase({item_name:p.item_name,qty:-Math.abs(Number(p.qty||0)),gst:Number(p.gst||0),price:Number(p.price||0),date:p.date,bill_no:p.bill_no});}// Push many billing lines into purchases with negative qty.\nexport async function apiAddSaleLines(){let lines=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let meta=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};const{date,bill_no}=meta;const norm=l=>{var _ref5,_ref6,_l$itemName,_ref7,_l$qty,_ref8,_ref9,_l$gst,_ref10,_ref11,_l$unitPrice;const item_name=(_ref5=(_ref6=(_l$itemName=l.itemName)!==null&&_l$itemName!==void 0?_l$itemName:l[\"ITEM NAME\"])!==null&&_ref6!==void 0?_ref6:l.name)!==null&&_ref5!==void 0?_ref5:\"\";const qty=toNum((_ref7=(_l$qty=l.qty)!==null&&_l$qty!==void 0?_l$qty:l.QTY)!==null&&_ref7!==void 0?_ref7:0);const gst=toNum((_ref8=(_ref9=(_l$gst=l.gst)!==null&&_l$gst!==void 0?_l$gst:l.gstRate)!==null&&_ref9!==void 0?_ref9:l[\"GST %\"])!==null&&_ref8!==void 0?_ref8:0);const price=toNum((_ref10=(_ref11=(_l$unitPrice=l.unitPrice)!==null&&_l$unitPrice!==void 0?_l$unitPrice:l.price)!==null&&_ref11!==void 0?_ref11:l[\"PRICE\"])!==null&&_ref10!==void 0?_ref10:0);return{item_name,qty,gst,price,date,bill_no};};for(const line of lines||[]){const row=norm(line);if(!row.item_name||!row.qty)continue;await apiAddSale(row);}}// Purchases-based name suggest (for billing)\n/*export async function apiBillingSuggest(q, limit = 25) {\r\n  const url = new URL(`${API_BASE}/inventory/suggest`);\r\n  url.searchParams.set(\"q\", q || \"\");\r\n  url.searchParams.set(\"limit\", String(limit));\r\n  return getJSON(url.toString()); // [{name,hsn,gst,price}]\r\n}*/// Purchases-based name suggest (for billing)\nexport async function apiBillingSuggest(q){const url=new URL(\"\".concat(API_BASE,\"/purchases/suggest\"));url.searchParams.set(\"q\",q||\"\");// url.searchParams.set(\"limit\", String(limit));\nreturn getJSON(url.toString());}export async function apiPurchasesLast(name){const url=new URL(\"\".concat(API_BASE,\"/purchases/last\"));url.searchParams.set(\"name\",name||\"\");return getJSON(url.toString());// {name,hsn,gst,price,stockQty}\n}export async function apiCreateSaleFIFO(payload){const url=\"\".concat(API_BASE,\"/sales/create_fifo\");const body=JSON.stringify(payload);// âœ… Logs (Developer Console)\nconsole.group(\"ðŸŸ¦ apiCreateSaleFIFO â†’ POST /sales/create_fifo\");console.log(\"URL:\",url);console.log(\"Payload (object):\",payload);console.log(\"Payload (JSON pretty):\\n\",JSON.stringify(payload,null,2));console.log(\"Body length:\",body.length);console.groupEnd();// âœ… Optional: pause execution to inspect in console\n// debugger;\nconst res=await fetch(url,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body});// âœ… Also log server response (helpful for debugging 400)\nconst text=await res.text();console.log(\"â¬…ï¸ Response status:\",res.status);console.log(\"â¬…ï¸ Response body:\",text);if(!res.ok){let err={};try{err=JSON.parse(text);}catch(_unused){}throw new Error(err.detail||text||\"Failed to create sale\");}// parse success JSON\ntry{return JSON.parse(text);}catch(_unused2){return{ok:true,raw:text};}}// ================== Accounts (MySQL) ==================\nexport async function apiAccountsList(){let q=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"\";let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;const url=new URL(\"\".concat(API_BASE,\"/accounts\"));if(q)url.searchParams.set(\"q\",q);url.searchParams.set(\"limit\",String(limit));return getJSON(url.toString());}export async function apiAccountsUpsert(payload){return postJSON(\"\".concat(API_BASE,\"/accounts/upsert\"),payload);}export async function apiItemsSearch(){let q=arguments.length>0&&arguments[0]!==undefined?arguments[0]:\"\";const qs=q?\"?q=\".concat(encodeURIComponent(q)):\"\";return getJSON(\"\".concat(API_BASE,\"/items_pk_steel\").concat(qs));}export async function apiItemsGetOne(id){return getJSON(\"\".concat(API_BASE,\"/items_pk_steel/\").concat(id));}export async function apiItemsUpsert(payload){return postJSON(\"\".concat(API_BASE,\"/items_pk_steel/upsert\"),payload);}export async function apiItemsDelete(id){const r=await fetch(\"\".concat(API_BASE,\"/items_pk_steel/\").concat(id),{method:\"DELETE\"});if(!r.ok)throw new Error(await r.text());return r.json();}// ================== Stocks ==================\nexport async function apiGetStocks(){let{q=\"\",limit=200,offset=0}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};const qs=new URLSearchParams({q,limit:String(limit),offset:String(offset)});return getJSON(\"\".concat(API_BASE,\"/stocks?\").concat(qs.toString()));}export async function apiSuggestStock(q){const qs=new URLSearchParams({q:q||\"\",limit:\"12\"});return getJSON(\"\".concat(API_BASE,\"/stocks/suggest?\").concat(qs.toString()));}export async function apiImportStockExcel(file){const fd=new FormData();fd.append(\"file\",file);const r=await fetch(\"\".concat(API_BASE,\"/stocks/import_excel\"),{method:\"POST\",body:fd});if(!r.ok)throw new Error(await r.text());return r.json();}export async function apiAccountsSuggest(q){let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;const r=await fetch(\"\".concat(API_BASE,\"/accounts/suggest?q=\").concat(encodeURIComponent(q),\"&limit=\").concat(limit));if(!r.ok)throw new Error(await r.text());const rows=await r.json();return(rows||[]).map(normalizeAccountRow);}export async function apiAccountByMobile(mobile){const r=await fetch(\"\".concat(API_BASE,\"/accounts/by_mobile?mobile=\").concat(encodeURIComponent(mobile)));if(!r.ok)throw new Error(await r.text());const row=await r.json();return normalizeAccountRow(row);}export async function apiAccountsSuggestName(q){let limit=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;const r=await fetch(\"\".concat(API_BASE,\"/accounts/suggest_name?q=\").concat(encodeURIComponent(q),\"&limit=\").concat(limit));if(!r.ok)throw new Error(await r.text());const rows=await r.json();return(rows||[]).map(normalizeAccountRow);}export async function apiAccountByName(name){const r=await fetch(\"\".concat(API_BASE,\"/accounts/by_name?name=\").concat(encodeURIComponent(name)));if(!r.ok)throw new Error(await r.text());return r.json();}/*\r\nexport async function apiCreateSaleFIFO(payload) {\r\n  const res = await fetch(`${API_BASE}/sales/create_fifo`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(payload),\r\n  });\r\n\r\n  if (!res.ok) {\r\n    const err = await res.json().catch(() => ({}));\r\n    throw new Error(err.detail || \"Failed to create sale\");\r\n  }\r\n\r\n  return res.json();\r\n}\r\n*/export async function apiAccountById(account_id){const r=await fetch(\"\".concat(API_BASE,\"/accounts/by_id?account_id=\").concat(account_id));if(!r.ok)throw new Error(await r.text());return normalizeAccountRow(await r.json());}","map":{"version":3,"names":["API_BASE","process","env","REACT_APP_API_BASE","toNum","v","isNaN","amt","q","r","inr","toLocaleString","minimumFractionDigits","maximumFractionDigits","getJSON","url","fetch","ok","Error","text","json","postJSON","body","method","headers","JSON","stringify","normalizeAccountRow","a","_ref","_ref2","_a$account_id","_ref3","_a$account_name","_objectSpread","account_id","id","accountId","account_name","name","apiGetInventory","concat","apiAddItem","hsnCode","groupName","res","hsn_code","group","apiSuggestNames","arguments","length","undefined","limit","URL","searchParams","set","String","toString","apiCheckAvailability","qty","encodeURIComponent","console","log","apiAddPurchase","_ref4","item_name","purchase_state","purchase_price","gst_percent","selling_price","date","bill_no","party_name","Number","trim","apiAddSale","p","Math","abs","gst","price","apiAddSaleLines","lines","meta","norm","l","_ref5","_ref6","_l$itemName","_ref7","_l$qty","_ref8","_ref9","_l$gst","_ref10","_ref11","_l$unitPrice","itemName","QTY","gstRate","unitPrice","line","row","apiBillingSuggest","apiPurchasesLast","apiCreateSaleFIFO","payload","groupEnd","status","err","parse","_unused","detail","_unused2","raw","apiAccountsList","apiAccountsUpsert","apiItemsSearch","qs","apiItemsGetOne","apiItemsUpsert","apiItemsDelete","apiGetStocks","offset","URLSearchParams","apiSuggestStock","apiImportStockExcel","file","fd","FormData","append","apiAccountsSuggest","rows","map","apiAccountByMobile","mobile","apiAccountsSuggestName","apiAccountByName","apiAccountById"],"sources":["C:/CA/Billing/dev/billing-pks/src/api.jsx"],"sourcesContent":["// src/api.js\r\nconst API_BASE = process.env.REACT_APP_API_BASE || \"https://billing-pks-production.up.railway.app\";\r\n\r\n// ---------- helpers ----------\r\nexport const toNum = (v) => (isNaN(+v) ? 0 : +v);\r\nexport const amt = (q, r) => toNum(q) * toNum(r);\r\nexport const inr = (v) =>\r\n  toNum(v).toLocaleString(\"en-IN\", {\r\n    minimumFractionDigits: 2,\r\n    maximumFractionDigits: 2,\r\n  });\r\n\r\nasync function getJSON(url) {\r\n  const r = await fetch(url);\r\n  if (!r.ok) throw new Error(await r.text());\r\n  return r.json();\r\n}\r\n\r\nasync function postJSON(url, body) {\r\n  const r = await fetch(url, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(body),\r\n  });\r\n  if (!r.ok) throw new Error(await r.text());\r\n  return r.json();\r\n}\r\n\r\nfunction normalizeAccountRow(a) {\r\n  if (!a) return a;\r\n  return {\r\n    ...a,\r\n    account_id: a.account_id ?? a.id ?? a.accountId ?? null,\r\n    account_name: a.account_name ?? a.name ?? \"\",\r\n  };\r\n}\r\n\r\n// ================== Items / Inventory (MySQL) ==================\r\nexport async function apiGetInventory() {\r\n  return getJSON(`${API_BASE}/inventory`);\r\n}\r\n\r\n// Add item in MySQL items table\r\nexport async function apiAddItem(name, hsnCode, groupName) {\r\n  const res = await fetch(`${API_BASE}/inventory/add_item`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify({\r\n      name,\r\n      hsn_code: hsnCode,\r\n      group: groupName,\r\n    }),\r\n  });\r\n  if (!res.ok) throw new Error(\"Failed to add item\");\r\n  return await res.json();\r\n}\r\n\r\n\r\n// Suggestions from items table\r\nexport async function apiSuggestNames(q = \"\", limit = 20) {\r\n  const url = new URL(`${API_BASE}/purchases/suggest`);\r\n  if (q) url.searchParams.set(\"q\", q);\r\n  url.searchParams.set(\"limit\", String(limit));\r\n  return getJSON(url.toString()); // [{name,gst,hsn,unit,price}]\r\n}\r\n\r\n// Availability check from MySQL\r\nexport async function apiCheckAvailability(name, qty = 0) {\r\n  const url = new URL(`${API_BASE}/inventory/availability`);\r\n  url.searchParams.set(\"name\", name || \"\");\r\n  url.searchParams.set(\"qty\", String(qty || 0));\r\n  const res = await getJSON(`${API_BASE}/inventory/availability?name=${encodeURIComponent(name)}&qty=${qty}`);\r\n  console.log(\"availability response:\", res);\r\n  return getJSON(url.toString()); // {exists,stock,can_deliver}\r\n}\r\n\r\n// ================== Purchases (MySQL) ==================\r\n/*\r\nexport async function apiAddPurchase({\r\n  item_name,\r\n  qty,\r\n  gst,\r\n  price,\r\n  date,\r\n  bill_no,\r\n}) {\r\n  return postJSON(`${API_BASE}/inventory/add_purchase`, {\r\n    item_name,\r\n    qty: Number(qty || 0),\r\n    gst: Number(gst || 0),\r\n    price: Number(price || 0),\r\n    date,\r\n    bill_no,\r\n  });\r\n}*/\r\n/*\r\nexport async function apiAddPurchase({\r\n  item_name,\r\n  qty,\r\n  purchase_state,\r\n  purchase_price,\r\n  gst_percent,     // selling GST\r\n  selling_price,   // selling price\r\n  date,\r\n  bill_no,\r\n}) {\r\n  return postJSON(`${API_BASE}/inventory/add_purchase`, {\r\n    item_name,\r\n    qty: Number(qty || 0),\r\n\r\n    // âœ… new fields\r\n    purchase_state: (purchase_state || \"\").trim() || null,\r\n    purchase_price:\r\n      purchase_price === \"\" || purchase_price == null\r\n        ? null\r\n        : Number(purchase_price),\r\n\r\n    // âœ… selling fields\r\n    gst_percent:\r\n      gst_percent === \"\" || gst_percent == null ? null : Number(gst_percent),\r\n    selling_price:\r\n      selling_price === \"\" || selling_price == null ? null : Number(selling_price),\r\n\r\n    date,\r\n    bill_no,\r\n  });\r\n}\r\n*/\r\nexport async function apiAddPurchase({\r\n  item_name,\r\n  qty,\r\n  purchase_state,\r\n  purchase_price,\r\n  gst_percent,     // selling GST\r\n  selling_price,   // selling price\r\n  date,\r\n  bill_no,\r\n  party_name,      // âœ… NEW\r\n}) {\r\n  return postJSON(`${API_BASE}/inventory/add_purchase`, {\r\n    item_name,\r\n    qty: Number(qty || 0),\r\n\r\n    // âœ… NEW fields\r\n    purchase_state: (purchase_state || \"\").trim() || null,\r\n    purchase_price:\r\n      purchase_price === \"\" || purchase_price == null\r\n        ? null\r\n        : Number(purchase_price),\r\n\r\n    // âœ… selling fields\r\n    gst_percent:\r\n      gst_percent === \"\" || gst_percent == null ? null : Number(gst_percent),\r\n    selling_price:\r\n      selling_price === \"\" || selling_price == null\r\n        ? null\r\n        : Number(selling_price),\r\n\r\n    // âœ… purchase context\r\n    date,\r\n    bill_no,\r\n    party_name: (party_name || \"\").trim() || null,  // âœ… NEW\r\n  });\r\n}\r\n\r\n\r\n// Log a sale row into purchases as negative quantity\r\nexport async function apiAddSale(p) {\r\n  return apiAddPurchase({\r\n    item_name: p.item_name,\r\n    qty: -Math.abs(Number(p.qty || 0)),\r\n    gst: Number(p.gst || 0),\r\n    price: Number(p.price || 0),\r\n    date: p.date,\r\n    bill_no: p.bill_no,\r\n  });\r\n}\r\n\r\n// Push many billing lines into purchases with negative qty.\r\nexport async function apiAddSaleLines(lines = [], meta = {}) {\r\n  const { date, bill_no } = meta;\r\n  const norm = (l) => {\r\n    const item_name = l.itemName ?? l[\"ITEM NAME\"] ?? l.name ?? \"\";\r\n    const qty = toNum(l.qty ?? l.QTY ?? 0);\r\n    const gst = toNum(l.gst ?? l.gstRate ?? l[\"GST %\"] ?? 0);\r\n    const price = toNum(l.unitPrice ?? l.price ?? l[\"PRICE\"] ?? 0);\r\n    return { item_name, qty, gst, price, date, bill_no };\r\n  };\r\n  for (const line of lines || []) {\r\n    const row = norm(line);\r\n    if (!row.item_name || !row.qty) continue;\r\n    await apiAddSale(row);\r\n  }\r\n}\r\n\r\n// Purchases-based name suggest (for billing)\r\n/*export async function apiBillingSuggest(q, limit = 25) {\r\n  const url = new URL(`${API_BASE}/inventory/suggest`);\r\n  url.searchParams.set(\"q\", q || \"\");\r\n  url.searchParams.set(\"limit\", String(limit));\r\n  return getJSON(url.toString()); // [{name,hsn,gst,price}]\r\n}*/\r\n\r\n// Purchases-based name suggest (for billing)\r\nexport async function apiBillingSuggest(q) {\r\n  const url = new URL(`${API_BASE}/purchases/suggest`);\r\n  url.searchParams.set(\"q\", q || \"\");\r\n // url.searchParams.set(\"limit\", String(limit));\r\n  return getJSON(url.toString()); \r\n}\r\n\r\nexport async function apiPurchasesLast(name) {\r\n  const url = new URL(`${API_BASE}/purchases/last`);\r\n  url.searchParams.set(\"name\", name || \"\");\r\n  return getJSON(url.toString()); // {name,hsn,gst,price,stockQty}\r\n}\r\n\r\nexport async function apiCreateSaleFIFO(payload) {\r\n  const url = `${API_BASE}/sales/create_fifo`;\r\n  const body = JSON.stringify(payload);\r\n\r\n  // âœ… Logs (Developer Console)\r\n  console.group(\"ðŸŸ¦ apiCreateSaleFIFO â†’ POST /sales/create_fifo\");\r\n  console.log(\"URL:\", url);\r\n  console.log(\"Payload (object):\", payload);\r\n  console.log(\"Payload (JSON pretty):\\n\", JSON.stringify(payload, null, 2));\r\n  console.log(\"Body length:\", body.length);\r\n  console.groupEnd();\r\n\r\n  // âœ… Optional: pause execution to inspect in console\r\n  // debugger;\r\n\r\n  const res = await fetch(url, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body,\r\n  });\r\n\r\n  // âœ… Also log server response (helpful for debugging 400)\r\n  const text = await res.text();\r\n  console.log(\"â¬…ï¸ Response status:\", res.status);\r\n  console.log(\"â¬…ï¸ Response body:\", text);\r\n\r\n  if (!res.ok) {\r\n    let err = {};\r\n    try {\r\n      err = JSON.parse(text);\r\n    } catch {}\r\n    throw new Error(err.detail || text || \"Failed to create sale\");\r\n  }\r\n\r\n  // parse success JSON\r\n  try {\r\n    return JSON.parse(text);\r\n  } catch {\r\n    return { ok: true, raw: text };\r\n  }\r\n}\r\n\r\n// ================== Accounts (MySQL) ==================\r\nexport async function apiAccountsList(q = \"\", limit = 100) {\r\n  const url = new URL(`${API_BASE}/accounts`);\r\n  if (q) url.searchParams.set(\"q\", q);\r\n  url.searchParams.set(\"limit\", String(limit));\r\n  return getJSON(url.toString());\r\n}\r\n\r\nexport async function apiAccountsUpsert(payload) {\r\n  return postJSON(`${API_BASE}/accounts/upsert`, payload);\r\n}\r\n\r\nexport async function apiItemsSearch(q = \"\") {\r\n  const qs = q ? `?q=${encodeURIComponent(q)}` : \"\";\r\n  return getJSON(`${API_BASE}/items_pk_steel${qs}`);\r\n}\r\n\r\nexport async function apiItemsGetOne(id) {\r\n  return getJSON(`${API_BASE}/items_pk_steel/${id}`);\r\n}\r\n\r\nexport async function apiItemsUpsert(payload) {\r\n  return postJSON(`${API_BASE}/items_pk_steel/upsert`, payload);\r\n}\r\n\r\nexport async function apiItemsDelete(id) {\r\n  const r = await fetch(`${API_BASE}/items_pk_steel/${id}`, { method: \"DELETE\" });\r\n  if (!r.ok) throw new Error(await r.text());\r\n  return r.json();\r\n}\r\n\r\n// ================== Stocks ==================\r\nexport async function apiGetStocks({ q = \"\", limit = 200, offset = 0 } = {}) {\r\n  const qs = new URLSearchParams({ q, limit: String(limit), offset: String(offset) });\r\n  return getJSON(`${API_BASE}/stocks?${qs.toString()}`);\r\n}\r\n\r\nexport async function apiSuggestStock(q) {\r\n  const qs = new URLSearchParams({ q: q || \"\", limit: \"12\" });\r\n  return getJSON(`${API_BASE}/stocks/suggest?${qs.toString()}`);\r\n}\r\n\r\nexport async function apiImportStockExcel(file) {\r\n  const fd = new FormData();\r\n  fd.append(\"file\", file);\r\n\r\n  const r = await fetch(`${API_BASE}/stocks/import_excel`, {\r\n    method: \"POST\",\r\n    body: fd,\r\n  });\r\n  if (!r.ok) throw new Error(await r.text());\r\n  return r.json();\r\n}\r\n\r\nexport async function apiAccountsSuggest(q, limit = 10) {\r\n  const r = await fetch(\r\n    `${API_BASE}/accounts/suggest?q=${encodeURIComponent(q)}&limit=${limit}`\r\n  );\r\n  if (!r.ok) throw new Error(await r.text());\r\n  const rows = await r.json();\r\n  return (rows || []).map(normalizeAccountRow);\r\n}\r\n\r\n\r\nexport async function apiAccountByMobile(mobile) {\r\n  const r = await fetch(\r\n    `${API_BASE}/accounts/by_mobile?mobile=${encodeURIComponent(mobile)}`\r\n  );\r\n  if (!r.ok) throw new Error(await r.text());\r\n  const row = await r.json();\r\n  return normalizeAccountRow(row);\r\n}\r\n\r\nexport async function apiAccountsSuggestName(q, limit = 10) {\r\n  const r = await fetch(\r\n    `${API_BASE}/accounts/suggest_name?q=${encodeURIComponent(q)}&limit=${limit}`\r\n  );\r\n  if (!r.ok) throw new Error(await r.text());\r\n  const rows = await r.json();\r\n  return (rows || []).map(normalizeAccountRow);\r\n}\r\n\r\nexport async function apiAccountByName(name) {\r\n  const r = await fetch(\r\n    `${API_BASE}/accounts/by_name?name=${encodeURIComponent(name)}`\r\n  );\r\n  if (!r.ok) throw new Error(await r.text());\r\n  return r.json();\r\n}\r\n\r\n\r\n\r\n/*\r\nexport async function apiCreateSaleFIFO(payload) {\r\n  const res = await fetch(`${API_BASE}/sales/create_fifo`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(payload),\r\n  });\r\n\r\n  if (!res.ok) {\r\n    const err = await res.json().catch(() => ({}));\r\n    throw new Error(err.detail || \"Failed to create sale\");\r\n  }\r\n\r\n  return res.json();\r\n}\r\n*/\r\n\r\nexport async function apiAccountById(account_id) {\r\n  const r = await fetch(\r\n    `${API_BASE}/accounts/by_id?account_id=${account_id}`\r\n  );\r\n  if (!r.ok) throw new Error(await r.text());\r\n  return normalizeAccountRow(await r.json());\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}